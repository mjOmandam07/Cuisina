{% extends "layout.html" %}
{% block content %}
           <div class="article profile-sect bg-light">
             <div class="prof-details row p-4">
                    <img class="prof-img rounded-circle article-img" src="{{ other_user[0][4] }}"  />

                    <div class="col-3 mt-3 names" style="margin-left: 4em">
                      <h1 class="username" style="font-weight:lighter;">{{other_user[0][1]}}</h1>
                      <p class="m-1 font-weight-bold">{{ profile[0][1] }} {{ profile[0][2] }}</p>
                      <p class="m-1">{{other_user[0][2]}}</p>
                    </div>
                    
                    <div class="col-2 m-0 p-0">
                      <button type="button" class="btn m-0 mt-4 edit-btn" type="button" data-toggle="modal" data-target="#ModalScrollable">
                        About {{other_user[0][1]}}
                      </button>

                        <div class="modal" id="ModalScrollable" tabindex="-1" role="dialog" aria-labelledby="exampleModalScrollableLabel"ria-hidden="true">
                                <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
                                  <div class="modal-content">
                                    <div class="modal-header">
                                      <h5 class="modal-title" id="exampleModalCenteredLabel">About {{other_user[0][1]}}</h5>
                                      <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                        <span aria-hidden="true">&times;</span>
                                      </button>
                                    </div>
                                    <div class="modal-body p-3">
                                        <div class="row">
                                          <div class="other-image col-4">
                                             <img class="prof-img rounded-circle article-img mt-2" src="{{ other_user[0][4] }}" style="height: 15em !important; width: 15em !important;" />
                                          </div>
                                          <div class="other-about col">
                                              <h1 class="username display-4" style="font-weight:lighter;">{{other_user[0][1]}}</h1>
                                              <div class="row mb-3">
                                                <div class="col fname">
                                                  <h5 class="font-weight-bold">First Name</h5>
                                                  <h4 style="font-weight: lighter;">{{ profile[0][1] }}</h4>
                                                </div>
                                                <div class="col lname">
                                                  <h5 class="font-weight-bold">Last Name</h5>
                                                  <h4 style="font-weight: lighter;">{{ profile[0][2] }}</h4>
                                                </div>
                                              </div>
                                              <div class="row mb-3">
                                                <div class="col email">
                                                  <h5 class="font-weight-bold">Email</h5>
                                                  <h4 style="font-weight: lighter;">{{ other_user[0][2] }}</h4>
                                                </div>
                                                <div class="col bdate">
                                                  <h5 class="font-weight-bold">Birthday</h5>
                                                  <h4 style="font-weight: lighter;">{{ profile[0][3] }}</h4>
                                                </div>
                                              </div>
                                              <div class="row mb-3">
                                                <div class="col gender">
                                                  <h5 class="font-weight-bold">Gender</h5>
                                                  <h4 style="font-weight: lighter;">{{ profile[0][4] }}</h4>
                                                </div>
                                              </div>
                                          </div>
                                        </div>
                                    </div>
                                  </div>
                                </div>
                        </div>
                    </div>
                     
                    
                    <div class="align-self-center ml-auto medal col-2 p-0" style="text-align: center;">
                      <h6 class="m-1">Executive Chef</h6>
                      <img class = "rounded-circle article-img" src="{{ url_for('static', filename='rank_images/executive_chef.png') }}"
                          style="height:8em; width: 10em;">
                    </div>  
              </div>
            </div>
            <div class="post col row bg-light p-2 mt-2 mb-2">
              <h2 class="col">Posted {{fltr}}</h2>
              <button type="button" class="btn col-3 h-25 mt-2" data-toggle="modal" data-target="#exampleModal" style="font-size: 1em !important; float: right;">
                Filter
              </button>
              <div class="modal" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog" role="document">
                  <div class="modal-content">
                    <div class="modal-header">
                      <h5 class="modal-title" id="exampleModalLabel">Post Filter</h5>
                      <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">Ã—</span>
                      </button>
                    </div>
                    <div class="modal-body">
                      <a href="{{ url_for('viewProfile', user_id=other_user[0][0], fltr='recipes') }}" type="button" style="font-size: 1em !important;"class="btn">Recipes</a>
                      <a href="{{ url_for('viewProfile', user_id=other_user[0][0], fltr='orders') }}"  type="button" style="font-size: 1em !important;"class="btn">Order</a>
                    </div>
                  </div>
                </div>
              </div>

            </div>
            
            {% for item in recipe %}
             
              <div class="post col bg-light p-0 mt-2 mb-4">
                  <article class="media content-section">
                      <div class="media-body">
                        <div class="article-metadata m-3">
                          <img class = "rounded-circle article-img" src="{{ item[11] }}" style=" height:40px; width: 40px;">
                            {% if item[7] == user[0][0] %}
                            <a class="ml-2 article-author" href="{{ url_for('profile', user_id=item[7], fltr='recipes') }}">{{ item[10] }}</a>
                            {% else %}
                            <a class="ml-2 article-author" href="{{ url_for('viewProfile', user_id=item[7], fltr='recipes') }}">{{ item[10] }}</a>
                            {% endif %}
                            <small class="ml-2 font-weight-bold">{{item[4]}}</small>
                            {% if item[8] == user[0][0] %}
                              <p  class="disabled-btn saved  ml-auto p-2"><i class='far fa-bookmark' style="font-size: 1em"></i></p>
                            {% else %}
                              <p  class="disabled-btn ml-auto p-2"><i class='far fa-bookmark' style="font-size: 1em"></i></p>
                            {% endif %} 
                        </div>
                          {% if item[9] != None %}
                            <div class="col m-0 d-flex p-0 justify-content-center" style="width: 100%;">
                              <a href="{{ url_for('viewpost', recipe_id=item[0]) }}" type="button" class="btn m-0 p-0" style="height: fit-content;">
                                <img src="{{ item[9] }}" alt="" class="article-content align-self-center m-0 p-0 post-img">
                              </a>
                            </div>
                            
                          {% endif %}
                          <small class="text-muted m-0 ml-3">{{ item[3].strftime("%b %d %Y, %I:%M %p")  }}</small><br>
                          <a class="article-title ml-3 font-weight-bold" href="{{ url_for('viewpost', recipe_id=item[0]) }}">{{ item[1] }}</a>
                          <p class="article-content ml-3"style="white-space: pre-wrap;
                            overflow-wrap: break-word;">{{ item[2] | truncate(100) }}</p>
                      </div> 
                    </article>
                    <div class="row ml-3">
                      <div class="star-widget">
                        {% if item[6] == 5 %}
                          <span class="fa fa-star checked"></span>
                          <span class="fa fa-star checked"></span>
                          <span class="fa fa-star checked"></span>
                          <span class="fa fa-star checked"></span>
                          <span class="fa fa-star checked"></span>
                        {% elif item[6] == 4 %}
                         <span class="fa fa-star checked"></span>
                          <span class="fa fa-star checked"></span>
                          <span class="fa fa-star checked"></span>
                          <span class="fa fa-star checked"></span>
                          <span class="fa fa-star"></span>
                        {% elif item[6] == 3 %}
                          <span class="fa fa-star checked"></span>
                          <span class="fa fa-star checked"></span>
                          <span class="fa fa-star checked"></span>
                          <span class="fa fa-star"></span>
                          <span class="fa fa-star"></span>
                        {% elif item[6] == 2 %}
                          <span class="fa fa-star checked"></span>
                          <span class="fa fa-star checked"></span>
                          <span class="fa fa-star"></span>
                          <span class="fa fa-star"></span>
                          <span class="fa fa-star"></span>
                        {% elif item[6] == 1 %}
                         <span class="fa fa-star checked"></span>
                          <span class="fa fa-star"></span>
                          <span class="fa fa-star"></span>
                          <span class="fa fa-star"></span>
                          <span class="fa fa-star"></span>
                        {% else %}
                          <span class="fa fa-star"></span>
                          <span class="fa fa-star"></span>
                          <span class="fa fa-star"></span>
                          <span class="fa fa-star"></span>
                          <span class="fa fa-star"></span>
                        {% endif %} 
                        <small class="ml-2">Average Rating</small>
                      </div>

                      <div class="col ml-4 mb-2 align-self-center">
                        <a class="article-save" href="{{ url_for('viewpost', recipe_id=item[0]) }}">View Comments</a>
                      </div>
                    </div>
              </div>
            {% endfor %}
            {% if not recipe %}
             <div class="post bg-light p-5 mt-2 mb-4">
               <a href='/filter' class="btn">Go to Food Feed and Post Now</a>
             </div>
            {% endif %}

    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript"></script>

    <script>
         function readURL(input) {
            if (input.files && input.files[0]) {

              var reader = new FileReader();

              reader.onload = function(e) {
                $('.image-upload-wrap').hide();

                $('.file-upload-image').attr('src', e.target.result);
                $('.file-upload-content').show();

                $('.image-title').html(input.files[0].name);
              };

              reader.readAsDataURL(input.files[0]);

            } else {
              removeUpload();
            }
          }

          function removeUpload() {
            $('.file-upload-input').replaceWith($('.file-upload-input').clone());
            $('.file-upload-content').hide();
            $('.image-upload-wrap').show();
          }
          $('.image-upload-wrap').bind('dragover', function () {
                  $('.image-upload-wrap').addClass('image-dropping');
              });
              $('.image-upload-wrap').bind('dragleave', function () {
                  $('.image-upload-wrap').removeClass('image-dropping');
          });
    
    </script>
               
                
{% endblock %}

